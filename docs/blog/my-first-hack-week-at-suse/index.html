<!doctype html><html xmlns=http://www.w3.org/1999/xhtml lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>My First Hack Week at SUSE | David DÃ­az's blog</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=https://www.dgdavid.es/css/custom.css><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical href=https://www.dgdavid.es/blog/my-first-hack-week-at-suse/><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"></head><body><section class=section><div class=container><nav id=nav-main class=nav><div id=nav-name class=nav-left><a id=nav-anchor class=nav-item href=https://www.dgdavid.es><h1 id=nav-heading class="title is-4">David DÃ­az's blog</h1></a></div><div class=nav-right><nav id=nav-items class="nav-item level is-mobile"></nav></div></nav><nav class=nav><div class=nav-right><a class=nav-item href=/blog/hi-there/><h2 class="title is-5">About me</h2></a></div></nav></div><script src=/js/navicon-shift.js></script></section><section class=section><div class=container><div class="subtitle tags is-6 is-pulled-right"><a class="subtitle is-6" href=/tags/hack-week/>#Hack Week</a>
| <a class="subtitle is-6" href=/tags/yast/>#YaST</a></div><h2 class="subtitle is-6">July 14, 2018</h2><h1 class=title>My First Hack Week at SUSE</h1><div class=content><p>At the beginning of July, I started to work at <a href=https://www.suse.com>SUSE</a> as
a member of the <a href=http://yast.opensuse.org/>YaST</a> team. A wanted, great, and
stimulating step in my professional career ðŸ˜Š. Just one week after, I
could enjoy the Hack Week 17 which is</p><blockquote><p>the time SUSE engineers experiment, innovate & learn interruption-free for a
whole week &ndash; <a href=https://hackweek.suse.com/>[SUSE Hack Week homepage]</a></p></blockquote><p>My first Hack Week! So exciting! ðŸŽ‰ðŸŽ‰ðŸŽ‰</p><p>I was tempted to start learning a new language or framework, but instead I
decided to do something related to YaST in order to get more familiar with it
and its ecosystem. That was the reason why I ended up trying to implement a
<a href=https://hackweek.suse.com/17/projects/graphical-view-of-the-changes-to-be-made-to-disks-during-installation>graphical view of the changes to be made to disk during
installation</a>,
<strong>a cool feature</strong> suggested <a href="https://bugzilla.suse.com/show_bug.cgi?id=1096900">in a Bugzilla
entry</a>.</p><p>After a first and quick research (I mean after a few <code>grep</code>s) I saw that there
is already a
<a href=https://github.com/yast/yast-storage-ng/blob/master/src/lib/y2partitioner/widgets/disk_bar_graph.rb><code>DiskBarGraph</code></a>
widget which receives a <code>disk</code> object and represents it graphically. In
addition, I could check that the <a href=https://github.com/yast/yast-storage-ng/blob/master/src/lib/y2storage/dialogs/proposal.rb><code>Y2Storage</code> proposal
dialog</a>
had all that I needed.</p><p><em>&ldquo;A piece of cake&rdquo;</em> I thought&mldr; How wrong can one be! ðŸ˜… I could
not finish it. Even worse, I believe - at least with my current knowledge -
that it is not possible right now to implement it.</p><p>Let me share what I discovered/learn</p><ul><li><p>The <a href=https://github.com/libyui/libyui><code>libyui</code></a>
<a href=https://github.com/libyui/libyui/blob/master/src/YBarGraph.cc>BarGraph</a>
seems to not be rendering regions properly; when given sizes differ too much
between them, small ones are not drawn <em>[<a href=#figure-1-1>Figure 1.1</a> and
<a href=#figure-1-2>Figure 1.2</a>]</em>. Bug or feature? A bug, IMO. What is more, label
showed on &ldquo;mouse over&rdquo; are placed wrongly <em>[<a href=#figure-1-3>Figure 1.3</a>]</em>.</p></li><li><p><code>initial_devicegraph</code> (or <code>probed devicegraph</code>) is not accessible publicly
through the proposal.</p></li><li><p>In YaST there is not scroll (which was a big surprise to me since I come from
web development and&mldr; you know what crazy stuff you can do in the browser).
Elements, (a.k.a <code>Terms</code>) are placed in horizontal or vertical, distributing
available space proportionally or according to Min/Max Width/Height and
margins. That is a problem because depending on system resolution and number
of disks elements could collapse or directly &ldquo;dissappears&rdquo; (each disk
requires two graph for a full representation) <em>[<a href=#figure-2-1>Figure 2.1</a> and
<a href=#figure-2-2>Figure 2.2</a>]</em>.</p></li><li><p>YaST is not designed for an extensive user interactivity. So, it is not
possible to draw a bar graph which allows the user &ldquo;click on a partition to
show its subvolumes in a drop-down component&rdquo; ðŸ˜­ðŸ˜­ðŸ˜­</p></li></ul><p>But I do not like to talk about &ldquo;problems&rdquo; without offering a possible
solutions :) So, here you have what I thought to address the above issues</p><ul><li><p>For the first one, the solution seems to fix how bar graph is drawn directly
in the <code>libyui</code>. For example, setting a minimum graphical representation
(1px?) for any size.</p></li><li><p>For the second, maybe it will be enough to make the method public, but I am
not completely sure if it is the right way or it should be used
<code>StorageManager.instance.probed</code> instead.</p></li><li><p>The other two could be avoided using a view similar to the partitioner
<em>[<a href=#figure-3>Figure 3</a>]</em>, where disk will be shown in a tree in the left
leaving the right side to display the related information and graphs of
selected disk.</p></li></ul><p>In addition, I must admit that I was not able to find out how to check if
probed and proposal disk state are different.</p><p>That&rsquo;s all :) <a href=https://github.com/dgdavid/yast-storage-ng/commits/feature/graphical-proposal>You can see the commits that I finally did in the
<code>feature/graphical-proposal</code> branch of my <code>yast-storage-ng</code>
fork</a>.
Not a big deal ðŸ˜œ</p><p>By the way, just for the record, I also did some not related things in my
first Hack Week, namely</p><ul><li>set-up the <code>VPN</code></li><li>update my <a href=https://software.opensuse.org/distributions/tumbleweed>openSUSE
TW</a> after a while</li><li>see how <code>vim</code> started crashing ðŸ˜­ ðŸ˜­</li><li>switch to <a href=https://neovim.io/><code>Neovim</code></a> (just install a package and create
an alias)</li><li>test a few dark themes for vim/neovim<ul><li>perun - <a href=https://github.com/aradunovic/perun.vim>https://github.com/aradunovic/perun.vim</a></li><li>Quantum - <a href=https://github.com/tyrannicaltoucan/vim-quantum>https://github.com/tyrannicaltoucan/vim-quantum</a></li><li>Iosvkem - <a href=https://github.com/neutaaaaan/iosvkem>https://github.com/neutaaaaan/iosvkem</a></li><li>ðŸŒŸ gruvbox - <a href=https://github.com/morhetz/gruvbox>https://github.com/morhetz/gruvbox</a> (the chosen one)</li></ul></li><li>change the office distribution (with the rest of teammates)</li></ul><hr></div></div></section><section class=section><div class=container><aside><div id=disqus_thread></div></aside><script type=text/javascript>var disqus_shortname='dgdavid';function disqus(){var a=document.createElement('script');a.type='text/javascript',a.async=!0,a.src='//'+disqus_shortname+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)}disqus()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript rel=nofollow>comments powered by Disqus.</a></noscript></div></section><section class=section><div class="container has-text-centered"><p></p><p>Powered by <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/ribice/kiss>Kiss</a>.</p></div></section></body></html>