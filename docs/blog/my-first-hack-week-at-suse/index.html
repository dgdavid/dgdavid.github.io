<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>My First Hack Week at SUSE | David DÃ­az&#39;s blog</title>


<link rel="stylesheet" href="/website/css/style.css"/><link rel='stylesheet' href='https://dgdavid.github.io/website/css/custom.css'><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
</head>
<body>


<section class="section">
  <div class="container">
    <nav class="nav">
      <div class="nav-left">
        <a class="nav-item" href="https://dgdavid.github.io/website"><h1 class="title is-4">David DÃ­az&#39;s blog</h1></a>
      </div>
      <div class="nav-right">
        <nav class="nav-item level is-mobile"><a class="level-item" aria-label="github" href='https://github.com/dgdavid' target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="linkedin" href='https://linkedin.com/in/diazglezdavid' target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path stroke-width="1.8" d="m5.839218,4.101561c0,1.211972 -0.974141,2.194011 -2.176459,2.194011s-2.176459,-0.982039 -2.176459,-2.194011c0,-1.211094 0.974141,-2.194011 2.176459,-2.194011s2.176459,0.982917 2.176459,2.194011zm0.017552,3.94922l-4.388022,0l0,14.04167l4.388022,0l0,-14.04167zm7.005038,0l-4.359939,0l0,14.04167l4.360816,0l0,-7.370999c0,-4.098413 5.291077,-4.433657 5.291077,0l0,7.370999l4.377491,0l0,-8.89101c0,-6.915523 -7.829986,-6.66365 -9.669445,-3.259423l0,-1.891237z"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="twitter" href='https://twitter.com/diazglezdavid' target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
    
  </svg></i>
            </span>
          </a></nav>
      </div>
    </nav>

    <nav class="nav">
      

      
        <div class="nav-right"><a class="nav-item" href="/website/blog/hi-there/">
                <h2 class="title is-5">About me</h2>
              </a></div>
      
    </nav>

  </div>
</section>

<section class="section">
  <div class="container">
    <div class="subtitle tags is-6 is-pulled-right">
      
      
<a class="subtitle is-6" href="/website/tags/hack-week">#Hack Week</a>



  
  | <a class="subtitle is-6" href="/website/tags/yast">#YaST</a>
  

      
    </div>
    <h2 class="subtitle is-6">July 14, 2018</h2>
    <h1 class="title">My First Hack Week at SUSE</h1>
    
    <div class="content">
      <p>At the beginning of July, I started to work at <a href="https://www.suse.com" target="_blank">SUSE</a> as
a member of the <a href="http://yast.opensuse.org/" target="_blank">YaST</a> team. A wanted, great, and
stimulating step in my professional career ðŸ˜Š. Just one week after, I
could enjoy the Hack Week 17 which is</p>

<blockquote>
<p>the time SUSE engineers experiment, innovate &amp; learn interruption-free for a
whole week <small>&ndash; <a href="https://hackweek.suse.com/" target="_blank">[SUSE Hack Week homepage]</a></small></p>
</blockquote>

<p>My first Hack Week! So exciting! ðŸŽ‰ðŸŽ‰ðŸŽ‰</p>

<p>I was tempted to start learning a new language or framework, but instead I
decided to do something related to YaST in order to get more familiar with it
and its ecosystem. That was the reason why I ended up trying to implement a
<a href="https://hackweek.suse.com/17/projects/graphical-view-of-the-changes-to-be-made-to-disks-during-installation" target="_blank">graphical view of the changes to be made to disk during
installation</a>,
<strong>a cool feature</strong> suggested <a href="https://bugzilla.suse.com/show_bug.cgi?id=1096900" target="_blank">in a Bugzilla
entry</a>.</p>

<p>After a first and quick research (I mean after a few <code>grep</code>s) I saw that there
is already a
<a href="https://github.com/yast/yast-storage-ng/blob/master/src/lib/y2partitioner/widgets/disk_bar_graph.rb" target="_blank"><code>DiskBarGraph</code></a>
widget which receives a <code>disk</code> object and represents it graphically. In
addition, I could check that the <a href="https://github.com/yast/yast-storage-ng/blob/master/src/lib/y2storage/dialogs/proposal.rb" target="_blank"><code>Y2Storage</code> proposal
dialog</a>
had all that I needed.</p>

<p><em>&ldquo;A piece of cake&rdquo;</em> I thought&hellip; How wrong can one be! ðŸ˜… I could
not finish it. Even worse, I believe - at least with my current knowledge -
that it is not possible right now to implement it.</p>

<p>Let me share what I discovered/learn</p>

<ul>
<li><p>The <a href="https://github.com/libyui/libyui" target="_blank"><code>libyui</code></a>
<a href="https://github.com/libyui/libyui/blob/master/src/YBarGraph.cc" target="_blank">BarGraph</a>
seems to not be rendering regions properly; when given sizes differ too much
between them, small ones are not drawn <em>[<a href="#figure-1-1">Figure 1.1</a> and
<a href="#figure-1-2">Figure 1.2</a>]</em>. Bug or feature? A bug, IMO. What is more, label
showed on &ldquo;mouse over&rdquo; are placed wrongly <em>[<a href="#figure-1-3">Figure 1.3</a>]</em>.</p></li>

<li><p><code>initial_devicegraph</code> (or <code>probed devicegraph</code>) is not accessible publicly
through the proposal.</p></li>

<li><p>In YaST there is not scroll (which was a big surprise to me since I come from
web development and&hellip; you know what crazy stuff you can do in the browser).
Elements, (a.k.a <code>Terms</code>) are placed in horizontal or vertical, distributing
available space proportionally or according to Min/Max Width/Height and
margins. That is a problem because depending on system resolution and number
of disks elements could collapse or directly &ldquo;dissappears&rdquo; (each disk
requires two graph for a full representation) <em>[<a href="#figure-2-1">Figure 2.1</a> and
<a href="#figure-2-2">Figure 2.2</a>]</em>.</p></li>

<li><p>YaST is not designed for an extensive user interactivity. So, it is not
possible to draw a bar graph which allows the user &ldquo;click on a partition to
show its subvolumes in a drop-down component&rdquo; ðŸ˜­ðŸ˜­ðŸ˜­</p></li>
</ul>

<p>But I do not like to talk about &ldquo;problems&rdquo; without offering a possible
solutions :) So, here you have what I thought to address the above issues</p>

<ul>
<li><p>For the first one, the solution seems to fix how bar graph is drawn directly
in the <code>libyui</code>. For example, setting a minimum graphical representation
(1px?) for any size.</p></li>

<li><p>For the second, maybe it will be enough to make the method public, but I am
not completely sure if it is the right way or it should be used
<code>StorageManager.instance.probed</code> instead.</p></li>

<li><p>The other two could be avoided using a view similar to the partitioner
<em>[<a href="#figure-3">Figure 3</a>]</em>, where disk will be shown in a tree in the left
leaving the right side to display the related information and graphs of
selected disk.</p></li>
</ul>

<p>In addition, I must admit that I was not able to find out how to check if
probed and proposal disk state are different.</p>

<p>That&rsquo;s all :) <a href="https://github.com/dgdavid/yast-storage-ng/commits/feature/graphical-proposal" target="_blank">You can see the commits that I finally did in the
<code>feature/graphical-proposal</code> branch of my <code>yast-storage-ng</code>
fork</a>.
Not a big deal ðŸ˜œ</p>

<p>By the way, just for the record, I also did some not related things in my
first Hack Week, namely</p>

<ul>
<li>set-up the <code>VPN</code></li>
<li>update my <a href="https://software.opensuse.org/distributions/tumbleweed" target="_blank">openSUSE
TW</a> after a while</li>
<li>see how <code>vim</code> started crashing ðŸ˜­ ðŸ˜­</li>
<li>switch to <a href="https://neovim.io/" target="_blank"><code>Neovim</code></a> (just install a package and create
an alias)</li>
<li>test a few dark themes for vim/neovim

<ul>
<li>perun - <a href="https://github.com/aradunovic/perun.vim" target="_blank">https://github.com/aradunovic/perun.vim</a></li>
<li>Quantum - <a href="https://github.com/tyrannicaltoucan/vim-quantum" target="_blank">https://github.com/tyrannicaltoucan/vim-quantum</a></li>
<li>Iosvkem - <a href="https://github.com/neutaaaaan/iosvkem" target="_blank">https://github.com/neutaaaaan/iosvkem</a></li>
<li>ðŸŒŸ gruvbox - <a href="https://github.com/morhetz/gruvbox" target="_blank">https://github.com/morhetz/gruvbox</a> (the chosen one)</li>
</ul></li>
<li>change the office distribution (with the rest of teammates)</li>
</ul>

<hr />

<div class="has-text-centered title is-5">
Some screenshots
</div>

<div id="figure-1-1">
  
<figure class="image">
    
        <img src="images/empty_15GiB_640x480.png" />
    
    
    <figcaption>
        <h4>Figure 1.1 - Suggested partitioning showing graphs at the right in a 640x480 resolution</h4>
        
    </figcaption>
    
</figure>

</div>

<div id="figure-1-2">
  
<figure class="image">
    
        <img src="images/empty_50GiB_vertical_1024x768.png" />
    
    
    <figcaption>
        <h4>Figure 1.2 - Suggested partitioning showing graphs at the bottom in a 1024x768 resolution</h4>
        
    </figcaption>
    
</figure>

</div>

<div id="figure-1-3">
  
<figure class="image">
    
        <img src="images/wrong_graph_label.png" />
    
    
    <figcaption>
        <h4>Example of wrong label on mouse over</h4>
        
    </figcaption>
    
</figure>

</div>

<div id="figure-2-1">
  
<figure class="image">
    
        <img src="images/mixed_disks_horizontal_1024x768.png" />
    
    
    <figcaption>
        <h4>Figure 2.1 - Actions buttons dissapeared with 3 disks in a 1024x768 resolution (graphs at right)</h4>
        
    </figcaption>
    
</figure>

</div>

<div id="figure-2-2">
  
<figure class="image">
    
        <img src="images/mixed_disks_vertical_1024x768.png" />
    
    
    <figcaption>
        <h4>Figure 2.2 - Actions buttons dissapeared with 3 disks in a 1024x768 resolution (graphs at bottom)</h4>
        
    </figcaption>
    
</figure>

</div>

<div id="figure-3">
  
<figure class="image">
    
        <img src="images/expert_partitioner.png" />
    
    
    <figcaption>
        <h4>Figure 3 - The expert partitioner view, which could be useful as inspiration to show the proposal in a similar way when system have more than one disk</h4>
        
    </figcaption>
    
</figure>

</div>

      
    </div>
    
  </div>
</section>

<section class="section">
  <div class="container">
    <aside><div id="disqus_thread"></div></aside>
    <script type="text/javascript">
      var disqus_shortname = 'dgdavid';
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  </div>
</section>


<section class="section">
  <div class="container has-text-centered">
    <p></p>
    
      <p>Powered by <a href="https://gohugo.io/">Hugo</a> &amp; <a href="https://github.com/ribice/kiss">Kiss</a>.</p>
    
  </div>
</section>

</body>
</html>

